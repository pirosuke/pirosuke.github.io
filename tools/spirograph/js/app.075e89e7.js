(function(e){function t(t){for(var n,i,s=t[0],c=t[1],u=t[2],l=0,p=[];l<s.length;l++)i=s[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);f&&f(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,i=1;i<r.length;i++){var s=r[i];0!==a[s]&&(n=!1)}n&&(o.splice(t--,1),e=u(u.s=r[0]))}return e}var n={},a={app:0},o=[];function i(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-42c7b9f1":"7db1acd7"}[e]+".js"}var s={};var c={"7fc0":function(){return{}}};function u(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.e=function(e){var t=[],r=a[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=n);var o,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=i(e);var p=new Error;o=function(t){l.onerror=l.onload=null,clearTimeout(d);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",p.name="ChunkLoadError",p.type=n,p.request=o,r[1](p)}a[e]=void 0}};var d=setTimeout((function(){o({type:"timeout",target:l})}),12e4);l.onerror=l.onload=o,document.head.appendChild(l)}var f={"chunk-42c7b9f1":["7fc0"]}[e]||[];return f.forEach((function(e){var r=s[e];if(r)t.push(r);else{var n,a=c[e](),o=fetch(u.p+""+{"7fc0":"90c29848fdbbdfb8755a"}[e]+".module.wasm");if(a instanceof Promise&&"function"===typeof WebAssembly.compileStreaming)n=Promise.all([WebAssembly.compileStreaming(o),a]).then((function(e){return WebAssembly.instantiate(e[0],e[1])}));else if("function"===typeof WebAssembly.instantiateStreaming)n=WebAssembly.instantiateStreaming(o,a);else{var i=o.then((function(e){return e.arrayBuffer()}));n=i.then((function(e){return WebAssembly.instantiate(e,a)}))}t.push(s[e]=n.then((function(t){return u.w[e]=(t.instance||t).exports})))}})),Promise.all(t)},u.m=e,u.c=n,u.d=function(e,t,r){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(r,n,function(t){return e[t]}.bind(null,n));return r},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/tools/spirograph/",u.oe=function(e){throw console.error(e),e},u.w={};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],p=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var f=p;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-app-bar",{attrs:{app:"",color:"indigo",dark:""}},[r("v-toolbar-title",{staticClass:"headline"},[r("span",[e._v("Webスピログラフ")])]),r("v-spacer"),r("v-btn",{attrs:{link:"",href:"https://github.com/pirosuke/spirograph-rs",target:"_blank"}},[e._v(" ソースはこちら ")])],1),r("v-main",[r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{grow:"","pa-1":""}},[r("router-view")],1)],1)],1)],1),r("v-footer",{attrs:{color:"indigo",app:""}},[r("span",{staticClass:"white--text"},[e._v("© 2021")])])],1)},o=[],i=r("5530"),s=r("2f62"),c={name:"App",components:{},data:function(){return{}},computed:Object(i["a"])({},Object(s["b"])({})),mounted:function(){},created:function(){},destroyed:function(){},methods:{}},u=c,l=r("2877"),p=r("6544"),d=r.n(p),f=r("7496"),v=r("40dc"),m=r("8336"),h=r("a523"),b=r("0e8f"),g=r("553a"),w=r("a722"),x=r("f6c4"),_=r("2fa4"),y=r("2a7f"),k=Object(l["a"])(u,a,o,!1,null,null,null),O=k.exports;d()(k,{VApp:f["a"],VAppBar:v["a"],VBtn:m["a"],VContainer:h["a"],VFlex:b["a"],VFooter:g["a"],VLayout:w["a"],VMain:x["a"],VSpacer:_["a"],VToolbarTitle:y["a"]});var j=r("8c4f"),V=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",[r("v-container",[r("v-row",[r("v-col",[r("canvas",{ref:"canvas",staticClass:"spirograph",attrs:{width:"500",height:"500"}})])],1),r("v-row",[r("v-col",[r("v-progress-linear",{attrs:{color:"light-blue",height:"10",value:e.progress,striped:""}})],1)],1)],1)],1),r("v-col",[r("v-card",[r("v-card-text",[r("v-container",[r("v-row",[r("v-col",[r("v-slider",{attrs:{label:"定円の半径",min:"1",max:"200",step:"1","thumb-label":"always"},model:{value:e.outer_radius,callback:function(t){e.outer_radius=t},expression:"outer_radius"}})],1)],1),r("v-row",[r("v-col",[r("v-slider",{attrs:{label:"動円の半径",min:"1",max:"100",step:"1","thumb-label":"always"},model:{value:e.inner_radius,callback:function(t){e.inner_radius=t},expression:"inner_radius"}})],1)],1),r("v-row",[r("v-col",[r("v-slider",{attrs:{label:"描画点の半径",min:"1",max:"100",step:"1","thumb-label":"always"},model:{value:e.draw_radius,callback:function(t){e.draw_radius=t},expression:"draw_radius"}})],1)],1),r("v-row",[r("v-col",[r("v-slider",{attrs:{label:"回転数",min:"10",max:"100",step:"10","thumb-label":"always"},model:{value:e.rotation_times,callback:function(t){e.rotation_times=t},expression:"rotation_times"}})],1)],1),r("v-row",[r("v-col",[r("v-color-picker",{attrs:{"hide-inputs":""},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1"},on:{click:e.draw}},[e._v("描画実行")]),r("v-btn",{attrs:{color:"blue darken-1"},on:{click:e.clearCanvas}},[e._v("キャンバスをクリア")])],1)],1)],1)],1)],1)},C=[],P=(r("d3b7"),r("96cf"),r("1da1")),S={data:function(){return{outer_radius:130,inner_radius:34,draw_radius:47,angle_update_coef:.1,rotation_times:20,hexColor:"#000000",angle:0}},watch:{},mounted:function(){return Object(P["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},computed:Object(i["a"])(Object(i["a"])({},Object(s["b"])({})),{},{color:{get:function(){return this.hexColor},set:function(e){this.hexColor=e}},maxAngle:function(){return 2*Math.PI*this.rotation_times},progress:function(){return this.angle/this.maxAngle*100}}),methods:{draw:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.$refs.canvas,n=r.getContext("2d"),n.strokeStyle=e.color,n.beginPath(),e.angle=0;case 5:if(!(e.angle<e.maxAngle)){t.next=16;break}return t.next=8,e.$store.dispatch("spirograph/calcNewPoint",{settings:{outer_radius:e.outer_radius,inner_radius:e.inner_radius,draw_radius:e.draw_radius,area_width:r.width,area_height:r.height},angle:e.angle});case 8:return a=e.$store.state.spirograph.point,n.lineTo(a.x,a.y),n.stroke(),e.angle+=e.angle_update_coef,t.next=14,e.sleep();case 14:t.next=5;break;case 16:case"end":return t.stop()}}),t)})))()},clearCanvas:function(){var e=this.$refs.canvas,t=e.getContext("2d");t.clearRect(0,0,e.width,e.height)},sleep:function(){return new Promise(requestAnimationFrame)}}},A=S,R=r("b0af"),T=r("99d9"),W=r("62ad"),$=r("03a4"),E=r("8e36"),M=r("0fd9"),B=r("ba0d"),J=Object(l["a"])(A,V,C,!1,null,"df078008",null),L=J.exports;d()(J,{VBtn:m["a"],VCard:R["a"],VCardActions:T["a"],VCardText:T["b"],VCol:W["a"],VColorPicker:$["a"],VContainer:h["a"],VProgressLinear:E["a"],VRow:M["a"],VSlider:B["a"],VSpacer:_["a"]}),n["a"].use(j["a"]);var N,F=[{path:"/",name:"home",component:L}],q=new j["a"]({base:"/tools/spirograph",routes:F}),I=q,z={namespaced:!0,state:{point:{x:0,y:0}},mutations:{setPoint:function(e,t){e.point=t.point}},actions:{loadWasm:function(e){return Object(P["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.e("chunk-42c7b9f1").then(r.bind(null,"47aa")),e.next=3,t;case 3:N=e.sent;case 4:case"end":return e.stop()}}),e)})))()},calcNewPoint:function(e,t){return Object(P["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(void 0!=N){r.next=3;break}return r.next=3,e.dispatch("loadWasm");case 3:return r.next=5,N.calc_point(JSON.stringify(t.settings),t.angle);case 5:n=r.sent,e.commit("setPoint",{point:JSON.parse(n)});case 7:case"end":return r.stop()}}),r)})))()}}};n["a"].use(s["a"]);var D=new s["a"].Store({modules:{spirograph:z}}),G=(r("5363"),r("f309"));n["a"].use(G["a"]);var H=new G["a"]({theme:{dark:!1}}),K={mounted:function(){var e="スピログラフ";document.title=e}};n["a"].config.productionTip=!1,n["a"].mixin(K),new n["a"]({router:I,store:D,vuetify:H,render:function(e){return e(O)}}).$mount("#app")}});
//# sourceMappingURL=app.075e89e7.js.map